<!DOCTYPE html>
<html>
<head>
<title>Alzheimer Risk Predictor</title>
<link rel="stylesheet" href="/static/style.css">
</head>

<body>

{% if request.query_params.msg %}
<div class="notification">
  {{ request.query_params.msg }}
</div>
{% endif %}

{% if result %}
<div class="result">
  <strong>{{ result }}</strong><br>
  <small>Confianza del modelo: {{ confidence }}%</small><br>
  <em>{{ advice }}</em>
</div>
{% endif %}

{% if result and not confirmed %}
<form action="/confirm" method="post" class="confirm-box">
  <input type="hidden" name="X_prep" value="{{ X_prep }}">
  <input type="hidden" name="predicted_label" value="{{ predicted_label }}">

  <small>¬øEl diagn√≥stico fue correcto?</small><br>

  <button type="submit" name="action" value="correct" class="confirm-btn">
    ‚úî Correcto
  </button>

  <details style="margin-top:8px;">
    <summary style="cursor:pointer;">‚úñ Incorrecto</summary>

    <label style="display:block;margin-top:8px;">
      Seleccione el diagn√≥stico real:
      <select name="true_label">
        <option value="0">0 - Bajo riesgo</option>
        <option value="1">1 - Alto riesgo</option>
      </select>
    </label>

    <button type="submit" name="action" value="incorrect"
            class="confirm-btn" style="margin-top:8px;">
      Guardar correcci√≥n
    </button>
  </details>
</form>
{% endif %}

<div class="card">
<h2>üß† Evaluaci√≥n de Riesgo de Alzheimer</h2>

<form action="/predict" method="post">

<!-- DEMOGRAF√çA -->
<div class="section">
<h3>üë§ Datos Demogr√°ficos</h3>
<div class="grid">

<label>Edad
<input type="number" name="Age" value="72" required>
<small>Edad en a√±os (ej: 72)</small>
</label>

<label>G√©nero
<select name="Gender">
<option value="0" selected>Masculino</option>
<option value="1">Femenino</option>
</select>
<small>Seleccione el sexo biol√≥gico</small>
</label>

<label>Etnia
<br>
<select name="Ethnicity">
<option value="0">Cauc√°sico</option>
<option value="1" selected>Afroamericano</option>
<option value="2">Asi√°tico</option>
<option value="3">Otro</option>
</select>
<br>
<small>Grupo √©tnico del paciente</small>
</label>

<label>Nivel Educaci√≥n
<select name="EducationLevel">
<option value="0">Sin estudios</option>
<option value="1">Secundaria</option>
<option value="2">Universidad</option>
<option value="3" selected>Superior</option>
</select>
<br>
<small>Nivel acad√©mico alcanzado</small>
</label>

</div>
</div>

<!-- ESTILO VIDA -->
<div class="section">
<h3>üèÉ Estilo de Vida</h3>
<div class="grid">

<label>BMI
<input name="BMI" value="23.5">
<small>√çndice de masa corporal (15‚Äì40 t√≠pico)</small>
</label>

<label>Alcohol
<input name="AlcoholConsumption" value="10">
<br>
<small>Unidades por semana (0‚Äì20)</small>
</label>

<label>Actividad F√≠sica
<input name="PhysicalActivity" value="5">
<small>Horas por semana (0 = nada, 10 = muy activo)</small>
</label>

<label>Dieta
<input name="DietQuality" value="2">
<small>Calidad dieta (0 mala ‚Äî 10 excelente)</small>
</label>

<label>Sue√±o
<input name="SleepQuality" value="6">
<small>Calidad sue√±o (4 mala ‚Äî 10 excelente)</small>
</label>

</div>
</div>

<!-- HISTORIAL -->
<div class="section">
<h3>ü©∫ Historial M√©dico</h3>
<div class="checkgrid">

<label><input type="checkbox" name="Smoking"> Fumador
<small>Marcar si fuma actualmente</small></label>

<label><input type="checkbox" name="FamilyHistoryAlzheimers"> Familiar Alzheimer
<small>Antecedentes familiares</small></label>

<label><input type="checkbox" name="CardiovascularDisease"> Cardiovascular</label>
<label><input type="checkbox" name="Diabetes"> Diabetes</label>
<label><input type="checkbox" name="Depression"> Depresi√≥n</label>
<label><input type="checkbox" name="HeadInjury"> Trauma craneal</label>
<label><input type="checkbox" name="Hypertension" checked> Hipertensi√≥n</label>

</div>
</div>

<!-- CL√çNICOS -->
<div class="section">
<h3>üìä Mediciones Cl√≠nicas</h3>
<div class="grid">

<label>Presi√≥n Sist√≥lica
<input name="SystolicBP" value="130">
<small>mmHg (90‚Äì180 t√≠pico)</small>
</label>

<label>Presi√≥n Diast√≥lica
<input name="DiastolicBP" value="80">
<small>mmHg (60‚Äì120 t√≠pico)</small>
</label>

<label>Colesterol Total
<input name="CholesterolTotal" value="200">
<br>
<small>150‚Äì300 mg/dL</small>
</label>

<label>LDL
<input name="CholesterolLDL" value="130">
<br>
<small>50‚Äì200 mg/dL</small>
</label>

<label>HDL
<input name="CholesterolHDL" value="50">
<br>
<small>20‚Äì100 mg/dL</small>
</label>

<label>Triglic√©ridos
<input name="CholesterolTriglycerides" value="150">
<br>
<small>50‚Äì400 mg/dL</small>
</label>

</div>
</div>

<!-- COGNITIVO -->
<div class="section">
<h3>üß† Evaluaci√≥n Cognitiva</h3>
<div class="grid">

<label>MMSE
<input name="MMSE" value="28">
<br>
<small>0‚Äì30 (menor = mayor deterioro)</small>
</label>

<label>Evaluaci√≥n Funcional
<input name="FunctionalAssessment" value="5">
<br>
<small>0‚Äì10 (menor = mayor limitaci√≥n)</small>
</label>

<label>ADL
<input name="ADL" value="1">
<br>
<small>0‚Äì10 (menor = m√°s dependencia)</small>
</label>

</div>
</div>

<!-- S√çNTOMAS -->
<div class="section">
<h3>‚ö†Ô∏è S√≠ntomas</h3>
<div class="checkgrid">

<label><input type="checkbox" name="MemoryComplaints"> Quejas memoria</label>
<label><input type="checkbox" name="BehavioralProblems"> Problemas de Conducta</label>
<label><input type="checkbox" name="Confusion"> Confusi√≥n</label>
<label><input type="checkbox" name="Disorientation"> Desorientaci√≥n</label>
<label><input type="checkbox" name="PersonalityChanges"> Cambios personalidad</label>
<label><input type="checkbox" name="DifficultyCompletingTasks" checked> Dificultad tareas</label>
<label><input type="checkbox" name="Forgetfulness"> Olvidos</label>

</div>
</div>

<button type="submit">Evaluar Riesgo</button>

</form>
</div>

</body>
</html>
